!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("undefined")):"function"==typeof define&&define.amd?define("Scandit",["undefined"],factory):"object"==typeof exports?exports.Scandit=factory(require("undefined")):root.Scandit=factory(root.undefined)}(this,function(__WEBPACK_EXTERNAL_MODULE_57__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var Auth=__webpack_require__(1);exports.Auth=Auth;var Client_1=__webpack_require__(4);exports.Client=Client_1.Client},function(module,exports,__webpack_require__){"use strict";var Config_1=__webpack_require__(2);exports.Method=Config_1.AuthMethod,exports.Storage=Config_1.StorageMethod},function(module,exports,__webpack_require__){(function(process){"use strict";exports.authDefaults={AUTHENTICATION_HEADER:"Authorization",BASE_URL:function(){var baseUrl;return process?baseUrl=process.env.BASE_URL:window&&(baseUrl=window.BASE_URL),baseUrl||"https://scandium.scandit.com"}(),AUTHORIZATION_PATH:"/api/v1/auth/oauth2/authorize",TOKEN_PATH:"/api/v1/auth/oauth2/token"},function(AuthMethod){AuthMethod[AuthMethod.CLIENT=0]="CLIENT",AuthMethod[AuthMethod.USER_IMPLICIT=1]="USER_IMPLICIT",AuthMethod[AuthMethod.USER_CREDENTIALS=2]="USER_CREDENTIALS",AuthMethod[AuthMethod.STATIC_KEY=3]="STATIC_KEY"}(exports.AuthMethod||(exports.AuthMethod={}));exports.AuthMethod;!function(StorageMethod){StorageMethod[StorageMethod.COOKIE_STORAGE=0]="COOKIE_STORAGE",StorageMethod[StorageMethod.LOCAL_STORAGE=1]="LOCAL_STORAGE",StorageMethod[StorageMethod.SESSION_STORAGE=2]="SESSION_STORAGE",StorageMethod[StorageMethod.NO_STORAGE=3]="NO_STORAGE"}(exports.StorageMethod||(exports.StorageMethod={}));exports.StorageMethod}).call(exports,__webpack_require__(3))},function(module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Config_1=__webpack_require__(2),ClientAuthenticator_1=__webpack_require__(5),UserImplicitAuthenticator_1=__webpack_require__(38),UserCredentialsAuthenticator_1=__webpack_require__(40),StaticApiKeyAuthenticator_1=__webpack_require__(41),DbApiClient_1=__webpack_require__(42),CookieStorage_1=__webpack_require__(53),LocalStorage_1=__webpack_require__(55),SessionStorage_1=__webpack_require__(58),events_1=__webpack_require__(7),Client=function(_super){function Client(config){var _this=this;_super.call(this);var storage;switch(void 0===config.storage||null===config.storage?Config_1.StorageMethod.LOCAL_STORAGE:config.storage){case Config_1.StorageMethod.COOKIE_STORAGE:storage=new CookieStorage_1.CookieStorage(config.storageKey);break;case Config_1.StorageMethod.LOCAL_STORAGE:storage=new LocalStorage_1.LocalStorage(config.storageKey);break;case Config_1.StorageMethod.SESSION_STORAGE:storage=new SessionStorage_1.SessionStorage(config.storageKey);break;case Config_1.StorageMethod.NO_STORAGE:storage=null;break;default:throw new ReferenceError("Invalid config provided - unknown storage")}switch(config.method){case Config_1.AuthMethod.STATIC_KEY:this.authenticator=new StaticApiKeyAuthenticator_1.StaticApiKeyAuthenticator(config,storage);break;case Config_1.AuthMethod.CLIENT:this.authenticator=new ClientAuthenticator_1.ClientAuthenticator(config,storage);break;case Config_1.AuthMethod.USER_IMPLICIT:this.authenticator=new UserImplicitAuthenticator_1.UserImplicitAuthenticator(config,storage);break;case Config_1.AuthMethod.USER_CREDENTIALS:this.authenticator=new UserCredentialsAuthenticator_1.UserCredentialsAuthenticator(config,storage);break;default:throw new ReferenceError("Invalid config provided - unknown method")}this.authenticator.on("auth.login",function(ctx){_this.emit("auth.login",ctx)}),this.authenticator.on("auth.logout",function(ctx){_this.emit("auth.logout",ctx)}),this.authenticator.on("auth.expire",function(ctx){_this.emit("auth.expire",ctx)}),this.authenticator.on("auth.update",function(ctx){_this.emit("auth.update",ctx)}),this.Db=new DbApiClient_1.DbApiClient,this.apiClients=[this.Db],this.httpClient=this.authenticator.getHttpClient()}return __extends(Client,_super),Client.prototype.init=function(){var _this=this,isAuthenticated=!1;return this.authenticator.init().then(function(authStatus){if(isAuthenticated=authStatus)return Promise.all(_this.apiClients.map(function(c){return c.init(_this.httpClient)}))}).then(function(){return _this.emit("init",isAuthenticated),isAuthenticated})},Client.prototype.authenticate=function(){for(var _this=this,credentials=[],_i=0;_i<arguments.length;_i++)credentials[_i-0]=arguments[_i];if(!this.authenticator)throw new ReferenceError("Provider is not configured.");return this.authenticator.authenticate.apply(this.authenticator,credentials).then(function(){return _this.init()})},Client}(events_1.EventEmitter);exports.Client=Client},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Authenticator_1=__webpack_require__(6),OAuthHttpClient_1=__webpack_require__(10),Config_1=__webpack_require__(2),ClientToken_1=__webpack_require__(36),ClientAuthenticator=function(_super){function ClientAuthenticator(config,storage){_super.call(this,config,storage),this.httpClient=new OAuthHttpClient_1.OAuthHttpClient(this)}return __extends(ClientAuthenticator,_super),ClientAuthenticator.prototype.init=function(){var _this=this;return this.loadToken(ClientToken_1.ClientToken).then(function(token){return token&&_this.httpClient.setAccessToken(token),!!token})},ClientAuthenticator.prototype.authenticate=function(){var _this=this;return new Promise(function(resolve,reject){var authenticationUrl=Config_1.authDefaults.BASE_URL+Config_1.authDefaults.TOKEN_PATH,payload={body:"grant_type=client_credentials&client_id="+_this.config.clientId+"&client_secret="+_this.config.clientSecret,headers:{"Content-Type":"application/x-www-form-urlencoded"}};_this.httpClient.setAccessToken(null),_this.httpClient.post(authenticationUrl,payload).then(function(response){if(200===response.status){var tokenResponse=JSON.parse(response.body),token_1=new ClientToken_1.ClientToken(tokenResponse.access_token,tokenResponse.expires_in,tokenResponse.token_type,new Date(1e3*tokenResponse.created_at),tokenResponse.refresh_token);_this.httpClient.setAccessToken(token_1),_this.storeToken(token_1).then(function(){_this.emit("auth.login",token_1),resolve()}).catch(function(err){reject(err)})}else reject(new Error("Authentication failed"))},function(err){reject(err)})})},ClientAuthenticator.prototype.getHttpClient=function(){return this.httpClient},ClientAuthenticator}(Authenticator_1.Authenticator);exports.ClientAuthenticator=ClientAuthenticator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},events_1=__webpack_require__(7),timers_1=__webpack_require__(8),Authenticator=function(_super){function Authenticator(config,storage){_super.call(this),this.config=config,this.storage=storage}return __extends(Authenticator,_super),Authenticator.prototype.loadToken=function(cls){var loadedToken,_this=this;return this.storage.getToken().then(function(token){return loadedToken=token,!(!token||token.constructor!==cls)&&_this.validateToken(token)}).then(function(isValid){return!!isValid&&(_this.watchToken(loadedToken),loadedToken)})},Authenticator.prototype.storeToken=function(token){return this.emit("auth.update",token),this.watchToken(token),this.storage.setToken(token)},Authenticator.prototype.logout=function(){return this.emit("auth.logout"),this.unwatchToken(),this.storage.clear()},Authenticator.prototype.validateToken=function(token){return Promise.resolve(!token.isExpired())},Authenticator.prototype.watchToken=function(token){var _this=this;if(this.unwatchToken(),token&&token.expiresAt){var diff=token.expiresAt.getTime()-(new Date).getTime();this.tokenWatchTimeout=timers_1.setTimeout(function(){_this.emit("auth.expire",token)},diff<0?0:diff)}},Authenticator.prototype.unwatchToken=function(){this.tokenWatchTimeout&&(clearTimeout(this.tokenWatchTimeout),this.tokenWatchTimeout=null)},Authenticator}(events_1.EventEmitter);exports.Authenticator=Authenticator},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){(function(global){function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(9),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{run(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():global.MessageChannel?installMessageChannelImplementation():doc&&"onreadystatechange"in doc.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),attachTo.setImmediate=setImmediate,attachTo.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===global?this:global:self)}).call(exports,function(){return this}(),__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},HttpClient_1=__webpack_require__(11),RefreshableAuthenticator_1=__webpack_require__(35),OAuthHttpClient=function(_super){function OAuthHttpClient(authenticator){_super.call(this),this.authenticator=authenticator}return __extends(OAuthHttpClient,_super),OAuthHttpClient.prototype.request=function(method,url,options){var _this=this;return _super.prototype.request.call(this,method,url,options).catch(function(response){if(401===response.status&&_this.token&&_this.token.isExpired()&&_this.token.isRefreshable()&&_this.authenticator instanceof RefreshableAuthenticator_1.RefreshableAuthenticator){var token_1=_this.token;return _this.token=null,_this.authenticator.refreshToken(token_1).then(function(){return _this.token=token_1,_super.prototype.request.call(_this,method,url,options)})}return response})},OAuthHttpClient.prototype.setAccessToken=function(token){this.token=token},OAuthHttpClient.prototype.getAuthenticationHeader=function(){return this.token?this.token.tokenType+" "+this.token.token:null},OAuthHttpClient.prototype.hasAuthenticationInfo=function(){return!!this.token},OAuthHttpClient}(HttpClient_1.HttpClient);exports.OAuthHttpClient=OAuthHttpClient},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},axios=__webpack_require__(12),Config_1=__webpack_require__(2),BaseHttpClient_1=__webpack_require__(34),HttpClient=function(_super){function HttpClient(){_super.apply(this,arguments)}return __extends(HttpClient,_super),HttpClient.prototype.request=function(method,url,options){var _this=this;return new Promise(function(resolve,reject){options=options||{};var requestOptions={method:method,url:url,responseType:"text",transformResponse:function(d){return"string"==typeof d?d:""+d}};if(_this.hasAuthenticationInfo()&&(options.headers=options.headers||{},options.headers[Config_1.authDefaults.AUTHENTICATION_HEADER]=_this.getAuthenticationHeader()),options.body&&(requestOptions.data="string"==typeof options.body?options.body:JSON.stringify(options.body)),options.query&&(requestOptions.params=options.query),options.headers&&(requestOptions.headers=options.headers),options.files)throw new Error("Not implemented");if(options.formData)throw new Error("Not implemented");if(options.timeout&&(requestOptions.timeout=options.timeout),options.connectionTimeout)throw new Error("Not implemented");axios(requestOptions).then(function(response){var finalResponse={status:response.status,body:response.data,headers:response.headers};response.status<300?resolve(finalResponse):reject(finalResponse)}).catch(function(error){reject(error)})})},HttpClient}(BaseHttpClient_1.BaseHttpClient);exports.HttpClient=HttpClient},function(module,exports,__webpack_require__){module.exports=__webpack_require__(13)},function(module,exports,__webpack_require__){"use strict";function createInstance(defaultConfig){var context=new Axios(defaultConfig),instance=bind(Axios.prototype.request,context);return utils.extend(instance,Axios.prototype,context),utils.extend(instance,context),instance}var utils=__webpack_require__(14),bind=__webpack_require__(15),Axios=__webpack_require__(16),axios=createInstance();axios.Axios=Axios,axios.create=function(defaultConfig){return createInstance(defaultConfig)},axios.all=function(promises){return Promise.all(promises)},axios.spread=__webpack_require__(33),module.exports=axios,module.exports.default=axios},function(module,exports,__webpack_require__){"use strict";function isArray(val){return"[object Array]"===toString.call(val)}function isArrayBuffer(val){return"[object ArrayBuffer]"===toString.call(val)}function isFormData(val){return"undefined"!=typeof FormData&&val instanceof FormData}function isArrayBufferView(val){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&val.buffer instanceof ArrayBuffer}function isString(val){return"string"==typeof val}function isNumber(val){return"number"==typeof val}function isUndefined(val){return void 0===val}function isObject(val){return null!==val&&"object"==typeof val}function isDate(val){return"[object Date]"===toString.call(val)}function isFile(val){return"[object File]"===toString.call(val)}function isBlob(val){return"[object Blob]"===toString.call(val)}function isFunction(val){return"[object Function]"===toString.call(val)}function isStream(val){return isObject(val)&&isFunction(val.pipe)}function isURLSearchParams(val){return"undefined"!=typeof URLSearchParams&&val instanceof URLSearchParams}function trim(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function forEach(obj,fn){if(null!==obj&&void 0!==obj)if("object"==typeof obj||isArray(obj)||(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)obj.hasOwnProperty(key)&&fn.call(null,obj[key],key,obj)}function merge(){function assignValue(val,key){"object"==typeof result[key]&&"object"==typeof val?result[key]=merge(result[key],val):result[key]=val}for(var result={},i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result}function extend(a,b,thisArg){return forEach(b,function(val,key){a[key]=thisArg&&"function"==typeof val?bind(val,thisArg):val}),a}var bind=__webpack_require__(15),toString=Object.prototype.toString;module.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim}},function(module,exports){"use strict";module.exports=function(fn,thisArg){return function(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},function(module,exports,__webpack_require__){"use strict";function Axios(defaultConfig){this.defaults=utils.merge(defaults,defaultConfig),this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}var defaults=__webpack_require__(17),utils=__webpack_require__(14),InterceptorManager=__webpack_require__(19),dispatchRequest=__webpack_require__(20),isAbsoluteURL=__webpack_require__(31),combineURLs=__webpack_require__(32);Axios.prototype.request=function(config){"string"==typeof config&&(config=utils.merge({url:arguments[0]},arguments[1])),config=utils.merge(defaults,this.defaults,{method:"get"},config),config.baseURL&&!isAbsoluteURL(config.url)&&(config.url=combineURLs(config.baseURL,config.url));var chain=[dispatchRequest,void 0],promise=Promise.resolve(config);for(this.interceptors.request.forEach(function(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)}),this.interceptors.response.forEach(function(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)});chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise},utils.forEach(["delete","get","head"],function(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))}}),utils.forEach(["post","put","patch"],function(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))}}),module.exports=Axios},function(module,exports,__webpack_require__){"use strict";function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var utils=__webpack_require__(14),normalizeHeaderName=__webpack_require__(18),PROTECTION_PREFIX=/^\)\]\}',?\n/,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};module.exports={transformRequest:[function(data,headers){return normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString()):utils.isObject(data)?(setContentTypeIfUnset(headers,"application/json;charset=utf-8"),JSON.stringify(data)):data}],transformResponse:[function(data){if("string"==typeof data){data=data.replace(PROTECTION_PREFIX,"");try{data=JSON.parse(data)}catch(e){}}return data}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:utils.merge(DEFAULT_CONTENT_TYPE),post:utils.merge(DEFAULT_CONTENT_TYPE),put:utils.merge(DEFAULT_CONTENT_TYPE)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(status){return status>=200&&status<300}}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(14);module.exports=function(headers,normalizedName){utils.forEach(headers,function(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])})}},function(module,exports,__webpack_require__){"use strict";function InterceptorManager(){this.handlers=[]}var utils=__webpack_require__(14);InterceptorManager.prototype.use=function(fulfilled,rejected){return this.handlers.push({fulfilled:fulfilled,rejected:rejected}),this.handlers.length-1},InterceptorManager.prototype.eject=function(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function(fn){utils.forEach(this.handlers,function(h){null!==h&&fn(h)})},module.exports=InterceptorManager},function(module,exports,__webpack_require__){(function(process){"use strict";var utils=__webpack_require__(14),transformData=__webpack_require__(21);module.exports=function(config){config.headers=config.headers||{},config.data=transformData(config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function(method){delete config.headers[method]});var adapter;return"function"==typeof config.adapter?adapter=config.adapter:"undefined"!=typeof XMLHttpRequest?adapter=__webpack_require__(22):void 0!==process&&(adapter=__webpack_require__(22)),Promise.resolve(config).then(adapter).then(function(response){return response.data=transformData(response.data,response.headers,config.transformResponse),response},function(error){return error&&error.response&&(error.response.data=transformData(error.response.data,error.response.headers,config.transformResponse)),Promise.reject(error)})}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(14);module.exports=function(data,headers,fns){return utils.forEach(fns,function(fn){data=fn(data,headers)}),data}},function(module,exports,__webpack_require__){(function(process){"use strict";var utils=__webpack_require__(14),settle=__webpack_require__(23),buildURL=__webpack_require__(26),parseHeaders=__webpack_require__(27),isURLSameOrigin=__webpack_require__(28),createError=__webpack_require__(24),btoa="undefined"!=typeof window&&window.btoa||__webpack_require__(29);module.exports=function(config){return new Promise(function(resolve,reject){var requestData=config.data,requestHeaders=config.headers;utils.isFormData(requestData)&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest,loadEvent="onreadystatechange",xDomain=!1;if("test"===process.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in request||isURLSameOrigin(config.url)||(request=new window.XDomainRequest,loadEvent="onload",xDomain=!0,request.onprogress=function(){},request.ontimeout=function(){}),config.auth){var username=config.auth.username||"",password=config.auth.password||"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}if(request.open(config.method.toUpperCase(),buildURL(config.url,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,request[loadEvent]=function(){if(request&&(4===request.readyState||xDomain)&&0!==request.status){var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null,responseData=config.responseType&&"text"!==config.responseType?request.response:request.responseText,response={data:responseData,status:1223===request.status?204:request.status,statusText:1223===request.status?"No Content":request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null}},request.onerror=function(){reject(createError("Network Error",config)),request=null},request.ontimeout=function(){reject(createError("timeout of "+config.timeout+"ms exceeded",config,"ECONNABORTED")),request=null},utils.isStandardBrowserEnv()){var cookies=__webpack_require__(30),xsrfValue=(config.withCredentials||isURLSameOrigin(config.url))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}if("setRequestHeader"in request&&utils.forEach(requestHeaders,function(val,key){void 0===requestData&&"content-type"===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)}),config.withCredentials&&(request.withCredentials=!0),config.responseType)try{request.responseType=config.responseType}catch(e){if("json"!==request.responseType)throw e}"function"==typeof config.onDownloadProgress&&request.addEventListener("progress",config.onDownloadProgress),"function"==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener("progress",config.onUploadProgress),void 0===requestData&&(requestData=null),request.send(requestData)})}}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";var createError=__webpack_require__(24);module.exports=function(resolve,reject,response){var validateStatus=response.config.validateStatus;response.status&&validateStatus&&!validateStatus(response.status)?reject(createError("Request failed with status code "+response.status,response.config,null,response)):resolve(response)}},function(module,exports,__webpack_require__){"use strict";var enhanceError=__webpack_require__(25);module.exports=function(message,config,code,response){var error=new Error(message);return enhanceError(error,config,code,response)}},function(module,exports){"use strict";module.exports=function(error,config,code,response){return error.config=config,code&&(error.code=code),error.response=response,error}},function(module,exports,__webpack_require__){"use strict";function encode(val){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var utils=__webpack_require__(14);module.exports=function(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,function(val,key){null!==val&&void 0!==val&&(utils.isArray(val)&&(key+="[]"),utils.isArray(val)||(val=[val]),utils.forEach(val,function(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))}))}),serializedParams=parts.join("&")}return serializedParams&&(url+=(-1===url.indexOf("?")?"?":"&")+serializedParams),url}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(14);module.exports=function(headers){var key,val,i,parsed={};return headers?(utils.forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(14);module.exports=utils.isStandardBrowserEnv()?function(){function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}var originURL,msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");return originURL=resolveURL(window.location.href),function(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function(){return function(){return!0}}()},function(module,exports){"use strict";function E(){this.message="String contains an invalid character"}function btoa(input){for(var block,charCode,str=String(input),output="",idx=0,map=chars;str.charAt(0|idx)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){if((charCode=str.charCodeAt(idx+=.75))>255)throw new E;block=block<<8|charCode}return output}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError",module.exports=btoa},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(14);module.exports=utils.isStandardBrowserEnv()?function(){return{write:function(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function(name){this.write(name,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(module,exports){"use strict";module.exports=function(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},function(module,exports){"use strict";module.exports=function(baseURL,relativeURL){return baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,"")}},function(module,exports){"use strict";module.exports=function(callback){return function(arr){return callback.apply(null,arr)}}},function(module,exports){"use strict";var BaseHttpClient=function(){function BaseHttpClient(){}return BaseHttpClient.prototype.get=function(url,options){return this.request("GET",url,options)},BaseHttpClient.prototype.options=function(url,options){return this.request("GET",url,options)},BaseHttpClient.prototype.post=function(url,options){return this.request("POST",url,options)},BaseHttpClient.prototype.put=function(url,options){return this.request("PUT",url,options)},BaseHttpClient.prototype.setAuthenticationHeader=function(authHeader){this.authHeader=authHeader},BaseHttpClient.prototype.getAuthenticationHeader=function(){return this.authHeader},BaseHttpClient.prototype.hasAuthenticationInfo=function(){return!!this.authHeader},BaseHttpClient}();exports.BaseHttpClient=BaseHttpClient},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Authenticator_1=__webpack_require__(6),Config_1=__webpack_require__(2),RefreshableAuthenticator=function(_super){function RefreshableAuthenticator(){_super.apply(this,arguments)}return __extends(RefreshableAuthenticator,_super),RefreshableAuthenticator.prototype.validateToken=function(token){var _this=this;return new Promise(function(resolve,reject){if(token.isExpired()){if(token.isExpired()&&token.isRefreshable())return _this.refreshToken(token).then(function(){resolve(!0)}).catch(function(err){console.error(err.stack),reject(!1)})}else resolve(!0)})},RefreshableAuthenticator.prototype.refreshToken=function(token){var _this=this,requestUrl=Config_1.authDefaults.BASE_URL+Config_1.authDefaults.TOKEN_PATH,payload={body:"grant_type=refresh_token&client_id="+this.config.clientId+"&client_secret="+this.config.clientSecret+"&refresh_token="+encodeURIComponent(token.refreshToken),headers:{"Content-Type":"application/x-www-form-urlencoded"}};return this.httpClient.post(requestUrl,payload).then(function(response){if(200===response.status){var tokenResponse=JSON.parse(response.body);return token.update(tokenResponse.access_token,tokenResponse.expires_in,tokenResponse.token_type,new Date(1e3*tokenResponse.created_at),tokenResponse.refresh_token),_this.storeToken(token)}throw new Error("Authentication failed")})},RefreshableAuthenticator}(Authenticator_1.Authenticator);exports.RefreshableAuthenticator=RefreshableAuthenticator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Token_1=__webpack_require__(37),ClientToken=function(_super){function ClientToken(){_super.apply(this,arguments)}return __extends(ClientToken,_super),ClientToken}(Token_1.Token);exports.ClientToken=ClientToken},function(module,exports){"use strict";var Token=function(){function Token(token,expires,tokenType,createdAt,refreshToken){this.update(token,expires,tokenType,createdAt,refreshToken)}return Token.prototype.update=function(token,expires,tokenType,createdAt,refreshToken){this.token=token,this.createdAt=createdAt||new Date,this.expires=expires,this.expiresAt=new Date(this.createdAt.getTime()+1e3*expires),this.tokenType=tokenType,this.refreshToken=refreshToken},Token.prototype.isExpired=function(){return null!=this.expiresAt&&this.expiresAt<new Date},Token.prototype.isRefreshable=function(){return!!this.refreshToken},Token}();exports.Token=Token},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Authenticator_1=__webpack_require__(6),OAuthHttpClient_1=__webpack_require__(10),Config_1=__webpack_require__(2),UserToken_1=__webpack_require__(39),CallbackHashParser=function(){function CallbackHashParser(s){var _this=this;this.response={},"#"===s[0]&&(s=s.slice(1)),s.split("&").map(function(pair){var param=pair.split("=");_this.response[param[0]]=param[1]})}return CallbackHashParser.prototype.getToken=function(){return new UserToken_1.UserToken(this.response.access_token,this.response.expires_in,this.response.token_type,void 0,this.response.refresh_token)},CallbackHashParser}(),UserImplicitAuthenticator=function(_super){function UserImplicitAuthenticator(config,storage){try{window.opener.popup_callback(window.location.hash),window.close()}catch(err){console.error(err)}_super.call(this,config,storage),this.httpClient=new OAuthHttpClient_1.OAuthHttpClient(this)}return __extends(UserImplicitAuthenticator,_super),UserImplicitAuthenticator.prototype.init=function(){var _this=this;return window.opener&&window.location.hash?new Promise(function(){}):this.loadToken(UserToken_1.UserToken).then(function(token){return token&&_this.httpClient.setAccessToken(token),!!token})},UserImplicitAuthenticator.prototype.authenticate=function(){var _this=this;return new Promise(function(resolve,reject){var authorizationUrl=Config_1.authDefaults.BASE_URL+Config_1.authDefaults.AUTHORIZATION_PATH+"?response_type=token&client_id="+_this.config.clientId+"&redirect_uri="+encodeURIComponent(_this.config.redirectUri),callback=function(hash){var responseParser=new CallbackHashParser(hash),token=responseParser.getToken();_this.httpClient.setAccessToken(token),_this.storeToken(token).then(function(){_this.emit("auth.login",token),resolve()}).catch(function(err){reject(err)})};_this.config.popup?window.open(authorizationUrl,"_blank","width=500,height=500,location=0"):window.open(authorizationUrl),window.popup_callback=callback})},UserImplicitAuthenticator.prototype.getHttpClient=function(){return this.httpClient},UserImplicitAuthenticator}(Authenticator_1.Authenticator);exports.UserImplicitAuthenticator=UserImplicitAuthenticator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Token_1=__webpack_require__(37),UserToken=function(_super){function UserToken(){_super.apply(this,arguments)}return __extends(UserToken,_super),UserToken}(Token_1.Token);exports.UserToken=UserToken},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OAuthHttpClient_1=__webpack_require__(10),Config_1=__webpack_require__(2),UserToken_1=__webpack_require__(39),RefreshableAuthenticator_1=__webpack_require__(35),UserCredentialsAuthenticator=function(_super){function UserCredentialsAuthenticator(config,storage){_super.call(this,config,storage),this.httpClient=new OAuthHttpClient_1.OAuthHttpClient(this)}return __extends(UserCredentialsAuthenticator,_super),UserCredentialsAuthenticator.prototype.init=function(){var _this=this;return this.loadToken(UserToken_1.UserToken).then(function(token){return token&&_this.httpClient.setAccessToken(token),!!token})},UserCredentialsAuthenticator.prototype.authenticate=function(){for(var _this=this,credentials=[],_i=0;_i<arguments.length;_i++)credentials[_i-0]=arguments[_i];return new Promise(function(resolve,reject){var username=credentials[0],password=credentials[1];if(username&&password){var requestUrl=Config_1.authDefaults.BASE_URL+Config_1.authDefaults.TOKEN_PATH,payload={body:"grant_type=password&client_id="+_this.config.clientId+"&client_secret="+_this.config.clientSecret+"&username="+encodeURIComponent(username)+"&password="+encodeURIComponent(password),headers:{"Content-Type":"application/x-www-form-urlencoded"}};_this.httpClient.setAccessToken(null),_this.httpClient.post(requestUrl,payload).then(function(response){if(200===response.status){var tokenResponse=JSON.parse(response.body),token_1=new UserToken_1.UserToken(tokenResponse.access_token,tokenResponse.expires_in,tokenResponse.token_type,new Date(1e3*tokenResponse.created_at),tokenResponse.refresh_token);_this.httpClient.setAccessToken(token_1),_this.storeToken(token_1).then(function(){_this.emit("auth.login",token_1),resolve()}).catch(function(err){reject(err)})}else reject(new Error("Authentication failed"))},function(err){reject(err)})}else reject(null)})},UserCredentialsAuthenticator.prototype.getHttpClient=function(){return this.httpClient},UserCredentialsAuthenticator}(RefreshableAuthenticator_1.RefreshableAuthenticator);exports.UserCredentialsAuthenticator=UserCredentialsAuthenticator},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Authenticator_1=__webpack_require__(6),HttpClient_1=__webpack_require__(11),StaticApiKeyAuthenticator=function(_super){function StaticApiKeyAuthenticator(config,storage){_super.call(this,config,storage),this.httpClient=new HttpClient_1.HttpClient}return __extends(StaticApiKeyAuthenticator,_super),StaticApiKeyAuthenticator.prototype.init=function(){return this.httpClient.setAuthenticationHeader(this.config.key),Promise.resolve(!0)},StaticApiKeyAuthenticator.prototype.authenticate=function(){return Promise.resolve(null)},StaticApiKeyAuthenticator.prototype.getHttpClient=function(){return this.httpClient},StaticApiKeyAuthenticator}(Authenticator_1.Authenticator);exports.StaticApiKeyAuthenticator=StaticApiKeyAuthenticator},function(module,exports,__webpack_require__){"use strict";var BaseModel_1=__webpack_require__(43),Api_1=__webpack_require__(44),DbApiClient=function(){function DbApiClient(){}return DbApiClient.prototype.init=function(httpClient){var _this=this;return this.api=new Api_1.Api(httpClient),this.api.fetchSchema().then(function(schema){_this.generateModels(schema)})},DbApiClient.prototype.getAvailableModels=function(){var _this=this,models=[];return Object.keys(this).forEach(function(p){_this.hasOwnProperty(p)&&_this[p].hasOwnProperty("_schema")&&models.push(p)}),models},DbApiClient.prototype.generateModels=function(schema){var _this=this;schema.classes.forEach(function(cls){_this[cls.name]=BaseModel_1.makeModel(cls,_this.api)})},DbApiClient}();exports.DbApiClient=DbApiClient},function(module,exports){"use strict";function makeModel(cls,api){var newModel=eval("(function "+cls.name+"(data){BaseModel.call(this, data)})");return Object.keys(BaseModel).forEach(function(p){BaseModel.hasOwnProperty(p)&&(newModel[p]=BaseModel[p])}),newModel.prototype=Object.create(BaseModel.prototype),newModel.prototype.constructor=newModel,newModel.prototype.name=cls.name,newModel.prototype.constructor._name=cls.name,newModel.prototype.constructor._schema=cls,newModel.prototype.constructor._api=api,newModel.prototype.constructor._model=newModel,newModel}var BaseModel=function(){function BaseModel(data){this._data=data||{},this.updateFields(this._data)}return BaseModel.get=function(id){var _this=this;return this._api.getObject(this.getType(),id).then(function(obj){return new _this._model(obj)})},BaseModel.all=function(limit){var _this=this;return this._api.allObjects(this.getType(),{limit:limit}).then(function(objects){return objects.map(function(o){return new _this._model(o)})})},BaseModel.find=function(query,options){var _this=this;return this._api.getObjects(this.getType(),query,options).then(function(queryResult){return queryResult.objects.map(function(o){return new _this._model(o)})})},BaseModel.count=function(query){return this._api.countObjects(this.getType(),query)},BaseModel.prototype.save=function(){var _this=this,api=this.constructor._api,data={};return this.constructor._schema.fields.forEach(function(field){data[field.name]=_this.convertValue(_this[field.name],field.type)}),this._id?api.updateObject(this.constructor.getType(),this._id,data).then(function(){return _this}):api.createObject(this.constructor.getType(),data).then(function(newId){return _this._id=newId,_this})},BaseModel.prototype.delete=function(){var api=this.constructor._api;return this._id?api.deleteObject(this.constructor.getType(),this._id):Promise.reject(new Error("Object must have an id"))},BaseModel.getName=function(){return this._name},BaseModel.getType=function(){return this._name.toLowerCase()},BaseModel.getFields=function(){return this._schema.fields.map(function(f){return f.name})},BaseModel.prototype.updateFields=function(data){var _this=this;data&&this.constructor._schema&&(data._id&&(this._id=data._id),this.constructor._schema.fields.forEach(function(f){_this[f.name]=_this.convertValue(data[f.name],f.type)}))},BaseModel.prototype.convertValue=function(fieldValue,fieldType){var _this=this;if(null===fieldValue||void 0===fieldValue)return null;switch(fieldType){case"string":return""+fieldValue;case"integer":return parseInt(fieldValue,10);case"float":return parseFloat(fieldValue);case"boolean":return!!fieldValue;default:return 0===fieldType.indexOf("array[")?(Array.isArray(fieldValue)?fieldValue:[fieldValue]).map(function(v){return _this.convertValue(v,fieldType.substring(6,fieldType.length-1))}):null}},BaseModel}();exports.BaseModel=BaseModel,exports.makeModel=makeModel},function(module,exports,__webpack_require__){"use strict";var cerialize_1=__webpack_require__(45),Schema_1=__webpack_require__(47),Config_1=__webpack_require__(2),Http_1=__webpack_require__(52),API_BASE_PATH="/api/v1/storage",Api=function(){function Api(httpClient){this.httpClient=httpClient}return Api.prototype.fetchSchema=function(){return this.httpClient.get(""+Config_1.authDefaults.BASE_URL+API_BASE_PATH+"/_schema").then(function(response){if(200!==response.status)throw new Error("Cannot fetch database schema");return cerialize_1.Deserialize(JSON.parse(response.body),Schema_1.Schema)})},Api.prototype.getObject=function(objType,id){return this.httpClient.get(""+Config_1.authDefaults.BASE_URL+API_BASE_PATH+"/data/"+objType+"/"+id).then(function(response){switch(response.status){case 200:return JSON.parse(response.body);case 404:throw new Error("Object not found");default:throw new Error("Unexpected API response ("+response.status+")")}})},Api.prototype.getObjects=function(objType,query,options){return this.httpClient.get(""+Config_1.authDefaults.BASE_URL+API_BASE_PATH+"/data/"+objType+"/?"+Api.getObjectsRequestQuerystring(query,options)).then(function(response){switch(response.status){case 200:return JSON.parse(response.body);default:throw new Error("Unexpected API response ("+response.status+")")}})},Api.prototype.allObjects=function(objType,options){var _this=this,requestOptions={page:1},limit=options&&options.limit?options.limit:null;return limit&&limit<1e3&&(requestOptions.limit=limit),this.getObjects(objType,requestOptions).then(function(queryResult){var pageSize=queryResult.objects.length,objs=queryResult.objects;if(queryResult.metadata.pages>1&&(!limit||pageSize<limit)){var pages=queryResult.metadata.pages-1;return limit&&(pages=Math.min(Math.ceil(limit/pageSize)-1,pages)),Promise.all(Array.apply(null,Array(pages)).map(function(_,page){var pageRequestOptions={page:requestOptions.page+page+1};return limit&&(pageRequestOptions.limit=pageSize),requestOptions.limit&&(pageRequestOptions.limit=requestOptions.limit),_this.getObjects(objType,pageRequestOptions)})).then(function(results){return objs.concat.apply(objs,results.map(function(r){return r.objects}))})}return objs}).then(function(objects){return limit&&objects.length>limit?objects.slice(0,limit):objects})},Api.prototype.countObjects=function(objType,query){return this.getObjects(objType,query,{limit:1}).then(function(queryResult){return queryResult.metadata.total})},Api.prototype.createObject=function(objType,data){var options={};return options.body=data,this.httpClient.post(""+Config_1.authDefaults.BASE_URL+API_BASE_PATH+"/data/"+objType+"/",options).then(function(response){switch(response.status){case 201:var location_1=(response.headers.Location||response.headers.location).split("/");return location_1[location_1.length-1];default:throw new Error("Unexpected API response ("+response.status+")")}})},Api.prototype.updateObject=function(objType,id,data){var options={};return options.body=data,this.httpClient.put(""+Config_1.authDefaults.BASE_URL+API_BASE_PATH+"/data/"+objType+"/"+id,options).then(function(response){switch(response.status){case 200:return;case 404:throw new Error("Object not found");default:throw new Error("Unexpected API response ("+response.status+")")}})},Api.prototype.deleteObject=function(objType,id){return this.httpClient.request("DELETE",""+Config_1.authDefaults.BASE_URL+API_BASE_PATH+"/data/"+objType+"/"+id).then(function(response){switch(response.status){case 200:return;case 404:throw new Error("Object not found");default:throw new Error("Unexpected API response ("+response.status+")")}})},Api.getObjectsRequestQuerystring=function(query,options){var requestQuery=options||{};return query&&(requestQuery.query=query),Http_1.urlEncode(requestQuery)},Api}();exports.Api=Api},function(module,exports,__webpack_require__){module.exports=__webpack_require__(46)},function(module,exports){(function(global){"use strict";function CamelCase(str){var STRING_CAMELIZE_REGEXP=/(\-|_|\.|\s)+(.)?/g;return str.replace(STRING_CAMELIZE_REGEXP,function(match,separator,chr){return chr?chr.toUpperCase():""}).replace(/^([A-Z])/,function(match,separator,chr){return match.toLowerCase()})}function SnakeCase(str){var STRING_DECAMELIZE_REGEXP=/([a-z\d])([A-Z])/g;return str.replace(STRING_DECAMELIZE_REGEXP,"$1_$2").toLowerCase()}function UnderscoreCase(str){var STRING_UNDERSCORE_REGEXP_1=/([a-z\d])([A-Z]+)/g,STRING_UNDERSCORE_REGEXP_2=/\-|\s+/g;return str.replace(STRING_UNDERSCORE_REGEXP_1,"$1_$2").replace(STRING_UNDERSCORE_REGEXP_2,"_").toLowerCase()}function DashCase(str){var STRING_DASHERIZE_REGEXP=/([a-z\d])([A-Z])/g;return str=str.replace(/_/g,"-"),str.replace(STRING_DASHERIZE_REGEXP,"$1-$2").toLowerCase()}function deserializeString(value){return Array.isArray(value)?value.map(function(element){return element&&element.toString()||null}):value&&value.toString()||null}function deserializeNumber(value){return Array.isArray(value)?value.map(function(element){return parseFloat(element)}):parseFloat(value)}function deserializeBoolean(value){return Array.isArray(value)?value.map(function(element){return Boolean(element)}):Boolean(value)}function serializeString(value){return Array.isArray(value)?value.map(function(element){return element&&element.toString()||null}):value&&value.toString()||null}function serializeNumber(value){return Array.isArray(value)?value.map(function(element){return parseInt(element)}):parseInt(value)}function serializeBoolean(value){return Array.isArray(value)?value.map(function(element){return Boolean(element)}):Boolean(value)}function getDeserializeFnForType(type){return type===String?deserializeString:type===Number?deserializeNumber:type===Boolean?deserializeBoolean:type}function getSerializeFnForType(type){return type===String?serializeString:type===Number?serializeNumber:type===Boolean?serializeBoolean:type}function getMetaData(array,keyName){for(var i=0;i<array.length;i++)if(array[i].keyName===keyName)return array[i];return array.push(new MetaData(keyName)),array[array.length-1]}function getTypeAndKeyName(keyNameOrType,keyName){var type=null,key=null;return"string"==typeof keyNameOrType?key=keyNameOrType:(keyNameOrType&&"function"==typeof keyNameOrType||"object"==typeof keyNameOrType)&&(type=keyNameOrType,key=keyName),{key:key,type:type}}function inheritSerialization(parentType){return function(childType){for(var parentMetaData=TypeMap.get(parentType)||[],childMetaData=TypeMap.get(childType)||[],i=0;i<parentMetaData.length;i++){var keyName=parentMetaData[i].keyName;MetaData.hasKeyName(childMetaData,keyName)||childMetaData.push(MetaData.clone(parentMetaData[i]))}TypeMap.set(childType,childMetaData)}}function serialize(target,keyName){if(target&&keyName){var metaDataList=TypeMap.get(target.constructor)||[];getMetaData(metaDataList,keyName).serializedKey=keyName,TypeMap.set(target.constructor,metaDataList)}}function deserialize(target,keyName){if(target&&keyName){var metaDataList=TypeMap.get(target.constructor)||[];getMetaData(metaDataList,keyName).deserializedKey=keyName,TypeMap.set(target.constructor,metaDataList)}}function autoserialize(target,keyName){if(target&&keyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,keyName);metadata.serializedKey=keyName,metadata.deserializedKey=keyName,TypeMap.set(target.constructor,metaDataList)}}function serializeAs(keyNameOrType,keyName){if(keyNameOrType){var _a=getTypeAndKeyName(keyNameOrType,keyName),key=_a.key,type=_a.type;return function(target,actualKeyName){if(target&&actualKeyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,actualKeyName);metadata.serializedKey=key||actualKeyName,metadata.serializedType=type,type===Date||type===RegExp||TypeMap.get(type)||"function"!=typeof type||(metadata.serializedType={Serialize:getSerializeFnForType(type)}),TypeMap.set(target.constructor,metaDataList)}}}}function serializeIndexable(type,keyName){if(type)return function(target,actualKeyName){if(target&&actualKeyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,actualKeyName);metadata.serializedKey=keyName||actualKeyName,metadata.serializedType=type,metadata.indexable=!0,type===Date||type===RegExp||TypeMap.get(type)||"function"!=typeof type||(metadata.serializedType={Serialize:getSerializeFnForType(type)}),TypeMap.set(target.constructor,metaDataList)}}}function deserializeAs(keyNameOrType,keyName){if(keyNameOrType){var _a=getTypeAndKeyName(keyNameOrType,keyName),key=_a.key,type=_a.type;return function(target,actualKeyName){if(target&&actualKeyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,actualKeyName);metadata.deserializedKey=key||actualKeyName,metadata.deserializedType=type,TypeMap.get(type)||type===Date||type===RegExp||"function"!=typeof type||(metadata.deserializedType={Deserialize:getDeserializeFnForType(type)}),TypeMap.set(target.constructor,metaDataList)}}}}function deserializeIndexable(type,keyName){if(type){var key=keyName;return function(target,actualKeyName){if(target&&actualKeyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,actualKeyName);metadata.deserializedKey=key||actualKeyName,metadata.deserializedType=type,metadata.indexable=!0,TypeMap.get(type)||type===Date||type===RegExp||"function"!=typeof type||(metadata.deserializedType={Deserialize:getDeserializeFnForType(type)}),TypeMap.set(target.constructor,metaDataList)}}}}function autoserializeAs(keyNameOrType,keyName){if(keyNameOrType){var _a=getTypeAndKeyName(keyNameOrType,keyName),key=_a.key,type=_a.type;return function(target,actualKeyName){if(target&&actualKeyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,actualKeyName),serialKey=key||actualKeyName;metadata.deserializedKey=serialKey,metadata.deserializedType=type,metadata.serializedKey=serialKey,metadata.serializedType=getSerializeFnForType(type),TypeMap.get(type)||type===Date||type===RegExp||"function"!=typeof type||(metadata.deserializedType={Deserialize:getDeserializeFnForType(type)}),TypeMap.set(target.constructor,metaDataList)}}}}function autoserializeIndexable(type,keyName){if(type){var key=keyName;return function(target,actualKeyName){if(target&&actualKeyName){var metaDataList=TypeMap.get(target.constructor)||[],metadata=getMetaData(metaDataList,actualKeyName),serialKey=key||actualKeyName;metadata.deserializedKey=serialKey,metadata.deserializedType=type,metadata.serializedKey=serialKey,metadata.serializedType=getSerializeFnForType(type),metadata.indexable=!0,TypeMap.get(type)||type===Date||type===RegExp||"function"!=typeof type||(metadata.deserializedType={Deserialize:getDeserializeFnForType(type)}),TypeMap.set(target.constructor,metaDataList)}}}}function mergePrimitiveObjects(instance,json){return json?instance?(Object.keys(json).forEach(function(key){var transformedKey=key;"function"==typeof deserializeKeyTransform&&(transformedKey=deserializeKeyTransform(key));var jsonValue=json[key],instanceValue=instance[key];if(Array.isArray(jsonValue)){instanceValue=Array.isArray(instanceValue)?instanceValue:[],instanceValue.length=jsonValue.length;for(var i=0;i<instanceValue.length;i++)instanceValue[i]=mergePrimitiveObjects(instanceValue[i],jsonValue[i])}else jsonValue&&"object"==typeof jsonValue?(instanceValue&&"object"==typeof instanceValue||(instanceValue={}),instanceValue=mergePrimitiveObjects(instanceValue,jsonValue)):instanceValue=jsonValue;instance[transformedKey]=instanceValue}),instance):json:instance}function deserializeArrayInto(source,type,arrayInstance){Array.isArray(arrayInstance)||(arrayInstance=new Array(source.length)),arrayInstance.length=source.length;for(var i=0;i<source.length;i++)arrayInstance[i]=DeserializeInto(source[i],type,arrayInstance[i]||new type);return arrayInstance}function deserializeObjectInto(json,type,instance){var metadataArray=TypeMap.get(type);if(null!==instance&&void 0!==instance||type&&(instance=new type),instance&&!type&&!metadataArray)return mergePrimitiveObjects(instance,json);if(!metadataArray)return invokeDeserializeHook(instance,json,type),instance;for(var i=0;i<metadataArray.length;i++){var metadata=metadataArray[i];if(metadata.deserializedKey){var serializedKey=metadata.deserializedKey;metadata.deserializedKey===metadata.keyName&&"function"==typeof deserializeKeyTransform&&(serializedKey=deserializeKeyTransform(metadata.keyName));var source=json[serializedKey];if(void 0!==source){var keyName=metadata.keyName;if(metadata.deserializedType&&"function"==typeof metadata.deserializedType.Deserialize)instance[keyName]=metadata.deserializedType.Deserialize(source);else if(Array.isArray(source))metadata.deserializedType?instance[keyName]=deserializeArrayInto(source,metadata.deserializedType,instance[keyName]):instance[keyName]=deserializeArray(source,null);else if(("string"==typeof source||source instanceof Date)&&metadata.deserializedType===Date.prototype.constructor){var deserializedDate=new Date(source);instance[keyName]instanceof Date?instance[keyName].setTime(deserializedDate.getTime()):instance[keyName]=deserializedDate}else"string"==typeof source&&type===RegExp?instance[keyName]=new RegExp(source):source&&"object"==typeof source?metadata.indexable?instance[keyName]=deserializeIndexableObjectInto(source,metadata.deserializedType,instance[keyName]):instance[keyName]=deserializeObjectInto(source,metadata.deserializedType,instance[keyName]):instance[keyName]=source}}}return invokeDeserializeHook(instance,json,type),instance}function Deserialize(json,type){return Array.isArray(json)?deserializeArray(json,type):json&&"object"==typeof json?deserializeObject(json,type):("string"==typeof json||json instanceof Date)&&type===Date.prototype.constructor?new Date(json):"string"==typeof json&&type===RegExp?new RegExp(json):json}function DeserializeInto(source,type,target){return Array.isArray(source)?deserializeArrayInto(source,type,target||[]):source&&"object"==typeof source?deserializeObjectInto(source,type,target||new type):target||type&&new type||null}function deserializeArray(source,type){for(var retn=new Array(source.length),i=0;i<source.length;i++)retn[i]=Deserialize(source[i],type);return retn}function invokeDeserializeHook(instance,json,type){type&&"function"==typeof type.OnDeserialized&&type.OnDeserialized(instance,json)}function invokeSerializeHook(instance,json){"function"==typeof instance.constructor.OnSerialized&&instance.constructor.OnSerialized(instance,json)}function deserializeObject(json,type){var metadataArray=TypeMap.get(type);if(!metadataArray){var inst=null;return type?(inst=new type,invokeDeserializeHook(inst,json,type)):inst=JSON.parse(JSON.stringify(json)),inst}for(var instance=new type,i=0;i<metadataArray.length;i++){var metadata=metadataArray[i];if(metadata.deserializedKey){var serializedKey=metadata.deserializedKey;metadata.deserializedKey===metadata.keyName&&"function"==typeof deserializeKeyTransform&&(serializedKey=deserializeKeyTransform(metadata.keyName));var source=json[serializedKey],keyName=metadata.keyName;void 0!==source&&(null===source?instance[keyName]=source:metadata.deserializedType&&"function"==typeof metadata.deserializedType.Deserialize?instance[keyName]=metadata.deserializedType.Deserialize(source):Array.isArray(source)?instance[keyName]=deserializeArray(source,metadata.deserializedType||null):("string"==typeof source||source instanceof Date)&&metadata.deserializedType===Date.prototype.constructor?instance[keyName]=new Date(source):"string"==typeof source&&metadata.deserializedType===RegExp?instance[keyName]=new RegExp(json):source&&"object"==typeof source?metadata.indexable?instance[keyName]=deserializeIndexableObject(source,metadata.deserializedType):instance[keyName]=deserializeObject(source,metadata.deserializedType):instance[keyName]=source)}}return invokeDeserializeHook(instance,json,type),instance}function deserializeIndexableObject(source,type){var retn={};return Object.keys(source).forEach(function(key){retn[key]=deserializeObject(source[key],type)}),retn}function deserializeIndexableObjectInto(source,type,instance){return Object.keys(source).forEach(function(key){instance[key]=deserializeObjectInto(source[key],type,instance[key])}),instance}function serializeArray(source,type){for(var serializedArray=new Array(source.length),j=0;j<source.length;j++)serializedArray[j]=Serialize(source[j],type);return serializedArray}function serializeTypedObject(instance,type){var metadataArray,json={};metadataArray=type?TypeMap.get(type):TypeMap.get(instance.constructor);for(var i=0;i<metadataArray.length;i++){var metadata=metadataArray[i];if(metadata.serializedKey){var serializedKey=metadata.serializedKey;metadata.serializedKey===metadata.keyName&&"function"==typeof serializeKeyTransform&&(serializedKey=serializeKeyTransform(metadata.keyName));var source=instance[metadata.keyName];if(void 0!==source)if(Array.isArray(source))json[serializedKey]=serializeArray(source,metadata.serializedType||null);else if(metadata.serializedType&&"function"==typeof metadata.serializedType.Serialize)json[serializedKey]=metadata.serializedType.Serialize(source);else{var value=Serialize(source);void 0!==value&&(json[serializedKey]=value)}}}return invokeSerializeHook(instance,json),json}function Serialize(instance,type){if(null===instance||void 0===instance)return null;if(Array.isArray(instance))return serializeArray(instance,type);if(type&&TypeMap.has(type))return serializeTypedObject(instance,type);if(instance.constructor&&TypeMap.has(instance.constructor))return serializeTypedObject(instance);if(instance instanceof Date)return instance.toISOString();if(instance instanceof RegExp)return instance.toString();if(instance&&"object"==typeof instance||"function"==typeof instance){for(var keys=Object.keys(instance),json={},i=0;i<keys.length;i++)json[keys[i]]=Serialize(instance[keys[i]]);return invokeSerializeHook(instance,json),json}return instance}function GenericDeserialize(json,type){return Deserialize(json,type)}function GenericDeserializeInto(json,type,instance){return DeserializeInto(json,type,instance)}function DeserializeKeysFrom(transform){deserializeKeyTransform=transform}function SerializeKeysTo(transform){serializeKeyTransform=transform}function SerializableEnumeration(e){e.Serialize=function(x){return e[x]},e.Deserialize=function(x){return e[x]}}Object.defineProperty(exports,"__esModule",{value:!0});var win=null;try{win=window}catch(e){win=global}var TypeMap=win.__CerializeTypeMap=new win.Map;exports.__TypeMap=TypeMap,exports.CamelCase=CamelCase,exports.SnakeCase=SnakeCase,exports.UnderscoreCase=UnderscoreCase,exports.DashCase=DashCase,exports.inheritSerialization=inheritSerialization,exports.serialize=serialize,exports.deserialize=deserialize,exports.autoserialize=autoserialize,exports.serializeAs=serializeAs,exports.serializeIndexable=serializeIndexable,exports.deserializeAs=deserializeAs,exports.deserializeIndexable=deserializeIndexable,exports.autoserializeAs=autoserializeAs,exports.autoserializeIndexable=autoserializeIndexable;var MetaData=function(){function MetaData(keyName){this.keyName=keyName,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return MetaData.hasKeyName=function(metadataArray,key){for(var i=0;i<metadataArray.length;i++)if(metadataArray[i].keyName===key)return!0;return!1},MetaData.clone=function(data){var metadata=new MetaData(data.keyName);return metadata.deserializedKey=data.deserializedKey,metadata.serializedKey=data.serializedKey,metadata.serializedType=data.serializedType,metadata.deserializedType=data.deserializedType,metadata.indexable=data.indexable,metadata},MetaData}();exports.Deserialize=Deserialize,exports.DeserializeInto=DeserializeInto,exports.Serialize=Serialize,exports.GenericDeserialize=GenericDeserialize,exports.GenericDeserializeInto=GenericDeserializeInto;var serializeKeyTransform=null,deserializeKeyTransform=null;exports.DeserializeKeysFrom=DeserializeKeysFrom,exports.SerializeKeysTo=SerializeKeysTo,exports.SerializableEnumeration=SerializableEnumeration}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},Cls_1=__webpack_require__(48),cerialize_1=__webpack_require__(45),Schema=function(){function Schema(){}return __decorate([cerialize_1.deserializeAs(Cls_1.Cls)],Schema.prototype,"classes",void 0),Schema}();exports.Schema=Schema},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},Field_1=__webpack_require__(49),Index_1=__webpack_require__(50),Config_1=__webpack_require__(51),cerialize_1=__webpack_require__(45),Cls=function(){function Cls(){}return __decorate([cerialize_1.deserialize],Cls.prototype,"name",void 0),__decorate([cerialize_1.deserializeAs(Field_1.Field)],Cls.prototype,"fields",void 0),__decorate([cerialize_1.deserializeAs(Index_1.Index)],Cls.prototype,"indices",void 0),__decorate([cerialize_1.deserializeAs(Config_1.Config)],Cls.prototype,"config",void 0),Cls}();exports.Cls=Cls},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},cerialize_1=__webpack_require__(45),Field=function(){function Field(){}return __decorate([cerialize_1.deserialize],Field.prototype,"name",void 0),__decorate([cerialize_1.deserialize],Field.prototype,"type",void 0),Field}();exports.Field=Field},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},cerialize_1=__webpack_require__(45),Index=function(){function Index(){}return __decorate([cerialize_1.deserialize],Index.prototype,"name",void 0),__decorate([cerialize_1.deserialize],Index.prototype,"fields",void 0),Index}();exports.Index=Index},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},cerialize_1=__webpack_require__(45),Config=function(){function Config(){}return __decorate([cerialize_1.deserialize],Config.prototype,"sync",void 0),Config}();exports.Config=Config},function(module,exports){"use strict";function urlEncode(obj){var str=[];return Object.keys(obj).forEach(function(p){obj.hasOwnProperty(p)&&("object"==typeof obj[p]?str.push(encodeURIComponent(p)+"="+encodeURIComponent(JSON.stringify(obj[p]))):str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p])))}),str.join("&")}exports.urlEncode=urlEncode},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TokenStorage_1=__webpack_require__(54),DEFAULT_COOKIE_NAME="scandit_flow",CookieStorage=function(_super){function CookieStorage(key){if(void 0===document||void 0===document.cookie)throw new ReferenceError("Cookies are not supported.");_super.call(this),this.key=key||DEFAULT_COOKIE_NAME}return __extends(CookieStorage,_super),CookieStorage.prototype.getToken=function(){var _this=this,cookie=document.cookie.split(";").map(function(x){return x.split("=")}).find(function(x){return x[0]===_this.key});return cookie&&""!==cookie[1]?Promise.resolve(TokenStorage_1.TokenStorage.deserializeToken(cookie[1])):Promise.resolve(null)},CookieStorage.prototype.setToken=function(token){return document.cookie=this.key+"="+TokenStorage_1.TokenStorage.serializeToken(token)+"; SameSite=Strict",Promise.resolve(null)},CookieStorage.prototype.clear=function(){return document.cookie=this.key+"=;",Promise.resolve(null)},CookieStorage}(TokenStorage_1.TokenStorage);exports.CookieStorage=CookieStorage},function(module,exports,__webpack_require__){"use strict";var UserToken_1=__webpack_require__(39),ClientToken_1=__webpack_require__(36),TokenStorage=function(){function TokenStorage(){}return TokenStorage.serializeToken=function(token){var tokenJson=Object.assign({},token);return delete tokenJson.expiresAt,tokenJson.createdAt=token.createdAt.getTime(),tokenJson._cls=token.constructor.name,encodeURIComponent(JSON.stringify(tokenJson))},TokenStorage.deserializeToken=function(value){var token=JSON.parse(decodeURIComponent(value));switch(token.createdAt=new Date(token.createdAt),token._cls){case"UserToken":return new UserToken_1.UserToken(token.token,token.expires,token.tokenType,token.createdAt,token.refreshToken);case"ClientToken":return new ClientToken_1.ClientToken(token.token,token.expires,token.tokenType,token.createdAt,token.refreshToken);default:throw new Error("Invalid token")}},TokenStorage}();exports.TokenStorage=TokenStorage},function(module,exports,__webpack_require__){(function(process){"use strict";var storage,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BrowserStorage_1=__webpack_require__(56),NodeLocalStorage_1=__webpack_require__(57);void 0!==window&&void 0!==window.localStorage?storage=window.localStorage:void 0!==process&&(storage=new NodeLocalStorage_1.NodeLocalStorage);var LocalStorage=function(_super){function LocalStorage(key){if(void 0===storage)throw new ReferenceError("Local storage is not supported.");_super.call(this,storage,key)}return __extends(LocalStorage,_super),LocalStorage}(BrowserStorage_1.BrowserStorage);exports.LocalStorage=LocalStorage}).call(exports,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TokenStorage_1=__webpack_require__(54),DEFAULT_STORAGE_KEY="scandit_flow",BrowserStorage=function(_super){function BrowserStorage(storage,key){_super.call(this),this.key=key||DEFAULT_STORAGE_KEY,this.storage=storage}return __extends(BrowserStorage,_super),BrowserStorage.prototype.getToken=function(){var token=this.storage.getItem(this.key);return token?Promise.resolve(TokenStorage_1.TokenStorage.deserializeToken(token)):Promise.resolve(null)},BrowserStorage.prototype.setToken=function(token){return this.storage.setItem(this.key,TokenStorage_1.TokenStorage.serializeToken(token)),Promise.resolve(null)},BrowserStorage.prototype.clear=function(){return this.storage.removeItem(this.key),Promise.resolve(null)},BrowserStorage}(TokenStorage_1.TokenStorage);exports.BrowserStorage=BrowserStorage},function(module,exports){module.exports=void 0},function(module,exports,__webpack_require__){(function(process){"use strict";var storage,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},BrowserStorage_1=__webpack_require__(56),NodeSessionStorage_1=__webpack_require__(57);void 0!==window&&void 0!==window.sessionStorage?storage=window.sessionStorage:void 0!==process&&(storage=new NodeSessionStorage_1.NodeSessionStorage);var SessionStorage=function(_super){function SessionStorage(key){if(void 0===storage)throw new ReferenceError("Local storage is not supported.");_super.call(this,storage,key)}return __extends(SessionStorage,_super),SessionStorage}(BrowserStorage_1.BrowserStorage);exports.SessionStorage=SessionStorage}).call(exports,__webpack_require__(3))}])});
//# sourceMappingURL=scandit.min.js.map